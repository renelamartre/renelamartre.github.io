---
import Layout from '../../../layouts/Layout.astro';
import BookCard from '../../../components/BookCard.astro';
import { getBooks } from '../../../data/books';
import { t, LOCALES, type Locale } from '../../../i18n';

export async function getStaticPaths() {
  return LOCALES.map((locale) => ({ params: { locale } }));
}

const { locale } = Astro.params as { locale: Locale };
const books = getBooks(locale);
---
<Layout title={t(locale, 'books.title')} description={t(locale, 'books.description')} locale={locale}>
  <h1>{t(locale, 'books.title')}</h1>
  <p class="intro">{t(locale, 'books.intro')}</p>
  <div class="book-grid">
    {books.map((book) => (
      <BookCard book={book} locale={locale} />
    ))}
  </div>
</Layout>

<style>
  .intro {
    margin-bottom: 2rem;
    color: #555;
  }
  .book-grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }
</style>
